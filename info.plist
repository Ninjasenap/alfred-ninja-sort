<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE plist PUBLIC "-//Apple//DTD PLIST 1.0//EN" "http://www.apple.com/DTDs/PropertyList-1.0.dtd">
<plist version="1.0">
<dict>
	<key>bundleid</key>
	<string>se.ninjasmurf.alfred.ninjasort</string>
	<key>category</key>
	<string>Tools</string>
	<key>connections</key>
	<dict>
		<key>6AB49752-34A1-4383-93F8-120891809C85</key>
		<array>
			<dict>
				<key>destinationuid</key>
				<string>9DF768E1-9A23-4373-B5F4-04E07766BD16</string>
				<key>modifiers</key>
				<integer>0</integer>
				<key>modifiersubtext</key>
				<string></string>
				<key>vitoclose</key>
				<false/>
			</dict>
		</array>
		<key>9DF768E1-9A23-4373-B5F4-04E07766BD16</key>
		<array>
			<dict>
				<key>destinationuid</key>
				<string>BDC98E69-963E-4F50-919D-286ECDAA747B</string>
				<key>modifiers</key>
				<integer>0</integer>
				<key>modifiersubtext</key>
				<string></string>
				<key>vitoclose</key>
				<false/>
			</dict>
		</array>
	</dict>
	<key>createdby</key>
	<string>henrik@ninjasmurf.se</string>
	<key>description</key>
	<string>Sort lines alphabetically</string>
	<key>disabled</key>
	<false/>
	<key>name</key>
	<string>Ninja Sort</string>
	<key>objects</key>
	<array>
		<dict>
			<key>config</key>
			<dict>
				<key>autopaste</key>
				<true/>
				<key>clipboardtext</key>
				<string>{query}</string>
				<key>ignoredynamicplaceholders</key>
				<false/>
				<key>transient</key>
				<true/>
			</dict>
			<key>type</key>
			<string>alfred.workflow.output.clipboard</string>
			<key>uid</key>
			<string>BDC98E69-963E-4F50-919D-286ECDAA747B</string>
			<key>version</key>
			<integer>3</integer>
		</dict>
		<dict>
			<key>config</key>
			<dict>
				<key>action</key>
				<integer>0</integer>
				<key>argument</key>
				<integer>1</integer>
				<key>focusedappvariable</key>
				<false/>
				<key>focusedappvariablename</key>
				<string></string>
				<key>hotkey</key>
				<integer>38</integer>
				<key>hotmod</key>
				<integer>1835008</integer>
				<key>hotstring</key>
				<string>J</string>
				<key>leftcursor</key>
				<false/>
				<key>modsmode</key>
				<integer>0</integer>
				<key>relatedAppsMode</key>
				<integer>0</integer>
			</dict>
			<key>type</key>
			<string>alfred.workflow.trigger.hotkey</string>
			<key>uid</key>
			<string>6AB49752-34A1-4383-93F8-120891809C85</string>
			<key>version</key>
			<integer>2</integer>
		</dict>
		<dict>
			<key>config</key>
			<dict>
				<key>concurrently</key>
				<false/>
				<key>escaping</key>
				<integer>68</integer>
				<key>script</key>
				<string>#!/usr/bin/env python3
# -*- coding: utf-8 -*-
import sys
import locale
import os

# Get the query text
query = """{query}"""

# Get the locale setting from Alfred workflow configuration
locale_setting = os.getenv('sort_locale', 'en_US.UTF-8')

# Parse lines and filter empty ones
lines = query.splitlines()
lines = list(filter(None, lines))

# Strip whitespace from each line
stripped_lines = [line.strip() for line in lines]

# Try to set locale for proper sorting
try:
    # Set the locale for sorting
    locale.setlocale(locale.LC_COLLATE, locale_setting)
    # Sort using locale-aware comparison (handles å, ä, ö, etc.)
    sorted_lines = sorted(stripped_lines, key=locale.strxfrm)
except locale.Error:
    # Fallback to case-insensitive sorting if locale not available
    sorted_lines = sorted(stripped_lines, key=str.lower)

# Join and output
result = "\n".join(sorted_lines)
sys.stdout.write(result)</string>
				<key>scriptargtype</key>
				<integer>0</integer>
				<key>scriptfile</key>
				<string></string>
				<key>type</key>
				<integer>9</integer>
			</dict>
			<key>type</key>
			<string>alfred.workflow.action.script</string>
			<key>uid</key>
			<string>9DF768E1-9A23-4373-B5F4-04E07766BD16</string>
			<key>version</key>
			<integer>2</integer>
		</dict>
	</array>
	<key>readme</key>
	<string>Sort lines of selected text alphabetically with proper language support. Now features locale-aware sorting for all major languages including Swedish, Norwegian, Danish, Finnish and more. Configure your preferred language in the workflow settings for proper handling of special characters (å, ä, ö, etc.). All languages use the same efficient sorting algorithm.</string>
	<key>uidata</key>
	<dict>
		<key>6AB49752-34A1-4383-93F8-120891809C85</key>
		<dict>
			<key>colorindex</key>
			<integer>11</integer>
			<key>xpos</key>
			<real>70</real>
			<key>ypos</key>
			<real>190</real>
		</dict>
		<key>9DF768E1-9A23-4373-B5F4-04E07766BD16</key>
		<dict>
			<key>colorindex</key>
			<integer>7</integer>
			<key>note</key>
			<string>Locale-aware Python script to trim and sort lines using configurable language settings. Supports all major languages including Swedish and other Scandinavian languages.</string>
			<key>xpos</key>
			<real>265</real>
			<key>ypos</key>
			<real>190</real>
		</dict>
		<key>BDC98E69-963E-4F50-919D-286ECDAA747B</key>
		<dict>
			<key>colorindex</key>
			<integer>5</integer>
			<key>note</key>
			<string>Paste sorted text to frontmost window.</string>
			<key>xpos</key>
			<real>460</real>
			<key>ypos</key>
			<real>190</real>
		</dict>
	</dict>
	<key>userconfigurationconfig</key>
	<array>
		<dict>
			<key>config</key>
			<dict>
				<key>default</key>
				<string>en_US.UTF-8</string>
				<key>options</key>
				<array>
					<dict>
						<key>label</key>
						<string>English (US)</string>
						<key>value</key>
						<string>en_US.UTF-8</string>
					</dict>
					<dict>
						<key>label</key>
						<string>Swedish</string>
						<key>value</key>
						<string>sv_SE.UTF-8</string>
					</dict>
					<dict>
						<key>label</key>
						<string>Norwegian (Bokmål)</string>
						<key>value</key>
						<string>nb_NO.UTF-8</string>
					</dict>
					<dict>
						<key>label</key>
						<string>Norwegian (Nynorsk)</string>
						<key>value</key>
						<string>nn_NO.UTF-8</string>
					</dict>
					<dict>
						<key>label</key>
						<string>Danish</string>
						<key>value</key>
						<string>da_DK.UTF-8</string>
					</dict>
					<dict>
						<key>label</key>
						<string>Finnish</string>
						<key>value</key>
						<string>fi_FI.UTF-8</string>
					</dict>
					<dict>
						<key>label</key>
						<string>English (UK)</string>
						<key>value</key>
						<string>en_GB.UTF-8</string>
					</dict>
					<dict>
						<key>label</key>
						<string>German</string>
						<key>value</key>
						<string>de_DE.UTF-8</string>
					</dict>
					<dict>
						<key>label</key>
						<string>French</string>
						<key>value</key>
						<string>fr_FR.UTF-8</string>
					</dict>
					<dict>
						<key>label</key>
						<string>Spanish</string>
						<key>value</key>
						<string>es_ES.UTF-8</string>
					</dict>
					<dict>
						<key>label</key>
						<string>Italian</string>
						<key>value</key>
						<string>it_IT.UTF-8</string>
					</dict>
					<dict>
						<key>label</key>
						<string>Portuguese</string>
						<key>value</key>
						<string>pt_PT.UTF-8</string>
					</dict>
					<dict>
						<key>label</key>
						<string>Dutch</string>
						<key>value</key>
						<string>nl_NL.UTF-8</string>
					</dict>
					<dict>
						<key>label</key>
						<string>Polish</string>
						<key>value</key>
						<string>pl_PL.UTF-8</string>
					</dict>
					<dict>
						<key>label</key>
						<string>Russian</string>
						<key>value</key>
						<string>ru_RU.UTF-8</string>
					</dict>
					<dict>
						<key>label</key>
						<string>Japanese</string>
						<key>value</key>
						<string>ja_JP.UTF-8</string>
					</dict>
					<dict>
						<key>label</key>
						<string>Chinese (Simplified)</string>
						<key>value</key>
						<string>zh_CN.UTF-8</string>
					</dict>
				</array>
				<key>placeholder</key>
				<string>Select sorting language</string>
				<key>required</key>
				<false/>
				<key>trim</key>
				<true/>
			</dict>
			<key>description</key>
			<string>Select the language/locale for sorting. This ensures proper alphabetical order for special characters (å, ä, ö, etc.). All languages use the same efficient sorting algorithm.</string>
			<key>label</key>
			<string>Sorting Language</string>
			<key>type</key>
			<string>popupbutton</string>
			<key>variable</key>
			<string>sort_locale</string>
		</dict>
	</array>
	<key>variablesdontexport</key>
	<array/>
	<key>version</key>
	<string>2.0.0</string>
	<key>webaddress</key>
	<string>www.ninjasmurf.se</string>
</dict>
</plist>
